Quantum Key Distribution (QKD) uses principles of quantum mechanics to enable two parties to establish a shared secret key for secure communication, which can then be used to verify file integrity through transfers. The key aspects of QKD are typically based on the principles of quantum superposition and quantum entanglement.

Quantum Superposition: In quantum mechanics, particles such as photons can exist in multiple states simultaneously, a phenomenon known as superposition. QKD often uses a quantum property called polarization. Photons can be polarized in different directions, representing the 0s and 1s of a binary code.

Quantum Entanglement: Entanglement is a quantum phenomenon where two or more particles become correlated in such a way that the state of one particle is directly related to the state of another, regardless of the distance between them. QKD systems leverage entangled particles to create a shared secret key.

The process for using these quantum principles to verify file integrity through transfers is as such:

QKD typically involves the exchange of quantum particles (usually photons) between the two communicating parties, often referred to as Alice and Bob. Alice sends a stream of entangled photons to Bob. Each photon represents a bit in the key. Due to the principles of quantum mechanics, any attempt to eavesdrop on the communication (by intercepting and measuring the photons) would disturb their quantum states, and this disturbance can be detected.
After receiving the entangled photons, Bob measures their polarization states using a chosen basis. Alice and Bob publicly announce the basis they used for each bit without revealing the actual measurement results.
Alice and Bob compare a subset of their bits where the measurement basis matches. Any discrepancy between their measurements indicates potential eavesdropping or errors in the key generation process.

Pairing with a future key based post-quantum encryption scheme should create a resilient network for years to come. Note QKD is in its infancy, but research right now is pushing the bounds of what is possible.
https://www.nature.com/articles/s41586-020-03093-8

QKD relies heavily on the transmission of photon particles produced through light, or more specifically, lasers. Those are made up of photons which have a polarization (direction in which the electric field oscillates) and can be measured on an individual basis relative to some axis, or direction. If you measure the vertical direction, you can tell whether a given photon is oscillating up and down or side to side. The oscillations are binary (1 = up and down, 0 = side to side, or vice versa), so we can utilize strings of those values.

The polarization is a fundamentally quantum mechanical property which means that a photon can be in a superposition of the two mutually exclusive outcomes - oscillating up and down and side to side simultaneously. If there is an eavesdropper, they will need to intercept each photon in turn to measure it. By making the measurement, they will collapse the quantum state of the photon, which causes the photon to go from a superposition of both states to just one or the other and informs communications that eavesdropping is present.

The process of sending a photon with a set polarization is relatively cheap and easy, as objects such as sunglasses or optical filters perform this task by letting through light of one polarization and filtering out all the rest. Every time a photon goes through polarizing sunglasses, it is effectively being measured in a quantum mechanical sense. Note that there are more sophisticated and precise ways to do this too, but it is relatively easy to obtain.

These polarization filters can be applied on both the emitting and receiving end of light waves (which I’ll later explain how it corresponds to a key to secure data transfers), and a sender (from now on referred to as “Alice”) and receiver (from now on referred to as “Bob”) may utilize them by communicating photons with a given polarization corresponding to 1s and 0s.

To create a quantum state of a photon into a superposition of vertical and horizontal polarizations is to simply tilt the emitter filter of photons 45 degrees on its side. Relative to Bob’s vertically aligned measurement system, each photon is now in a combination of both possible outcomes. This is because quantum mechanics fundamentally only allows a measurement to give specific results (aka: discrete in mathematical sense or quantized). If Alice’s emitter is at 45 degrees counterclockwise to the vertical, each photon has a 50% chance of being measured horizontally and 50% vertically. Bob, however, could also tilt his filter in the same orientation and thus measure correctly 100% of the time.

In the original BB84 paper, having equipment in the vertical orientation is referred to as the Rectilinear Basis, in which a vertical photon corresponds to a 1 and a horizontal photon to a 0. Tilting the equipment by 45 degrees is referred to as the Diagonal Basis where a photon which is oriented like a backslash is a 1 and one that is like a forward slash is a 0.

The idea now is that Alice and Bob picks a basis at random and sends intended data bits (1s or 0s). On average half the time they will both pick the same basis - the same alignment (Rectilinear or Diagonal) - and whatever bit Alice sent Bob for sure has accurately received it. If the two bases are different, then the measurement is useless, because whatever Alice sent Bob would get the wrong answer half the time, so they don’t know which bits of data are accurate and which are garbage.

They now share the sending and measurement bases and the order in which they used them publicly. This means that anyone can possibly intercept the information, but that poses no threat as those are just the bases, so it doesn’t matter if the whole world knows what they are; only Alice and Bob know the bits themselves, which can now be used as the one time key.

In the case that there is an active eavesdropper attempting to measure and resend photons through a specific filter, the amount of bases used decreases the probability of success exponentially. Because the eavesdropper doesn’t know which basis was used to send out the photons, they will inevitably use the wrong one at some point and mess up communication between Alice and Bob. Let’s say for instance that Alice sent out the backslash photon in the Diagonal Basis. The eavesdropper by chance measures in the Rectilinear Basis and sends out a vertical photon. Bob measures in the diagonal and gets a forward slash. In other words: Alice sent out a 1 and Bob got a 0 because of the eavesdropper.

Alice and Bob select some of the bits they think they’ve shared successfully and compare them publicly. If any of them don’t match up, they know an eavesdropper was present. In this case, the two parties now know they should stop communications and find a way to prevent the eavesdropper from intercepting through any means (disadvantage: no way of removing the eavesdropper if there is one). However, a guarantee they have is that no matter what, the eavesdropper will never know the correct line of bits as the chances of them correctly guessing every single filter is slim to none, so Alice and Bob have an effectively ~100% protection for their key distribution; if and only if there is no eavesdropping will they compare and see that their keys match each other.
